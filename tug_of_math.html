<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SFIDA di Matematica</title>
  <link rel="stylesheet" href="css/tug_of_math.css" />
  <link rel="stylesheet" href="css/shared_game_menu.css" />
</head>
<body>



 <div id="menuMount"></div>
  <main class="layout" id="zoomArea">
    <!-- SINISTRA -->
    <section class="panel left" id="panelL" aria-label="Squadra sinistra">
      <div class="teamHead blue">
        <div class="teamName" id="teamLName">Squadra Blu</div>
        <div class="timer" id="timerL">â€”</div>
      </div>

      <div class="energyBox">
        <div class="energyTop">
          <div class="energyLabel">Energia</div>
          <div class="energyPct" id="energyLPct">50%</div>
        </div>
        <div class="energyBar blue">
          <div class="energyFill" id="energyLFill" style="width:50%"></div>
        </div>
      </div>

      <div class="opBox">
        <div class="opLabel">Operazione</div>
        <div class="opText" id="opL">â€”</div>
      </div>

      <div class="answerRow">
        <input id="inL" class="answer" inputmode="numeric" readonly />
        <button class="miniBtn" id="okL">OK</button>
      </div>

      <div class="keypad" id="padL" aria-label="Tastiera sinistra"></div>
      <div class="status" id="statusL"></div>
    </section>

    <!-- CENTRO -->
    <section class="center" aria-label="Campo di gioco">
      <div class="arena">
        <div class="flag flagL" title="Bandierina sinistra"></div>
        <div class="flag flagR" title="Bandierina destra"></div>

  <div class="pitch" id="pitch">
  <div class="pitchMid"></div>

  <div class="goal goalL">
    <div class="net"></div>
  </div>

  <div class="goal goalR">
    <div class="net"></div>
  </div>

  <!-- il marker resta lo stesso ID: ora Ã¨ il pallone -->
  <div class="ball" id="marker" aria-label="Pallone"></div>

  <div class="ballShadow" id="ballShadow" aria-hidden="true"></div>
</div>

        <div class="scoreRow">
          <div class="score blue">Blu: <span id="scoreL">0</span></div>
          <div class="score red">Rosso: <span id="scoreR">0</span></div>
        </div>

<!-- âœ… WIN EFFECT -->
<div class="winFX" id="winFX" aria-hidden="true">
  <div class="winFXCard">
    <div class="winFXTitle" id="winFXTitle">VINTO!</div>
    <div class="winFXSub" id="winFXSub">â€”</div>

    <div class="winFXButtons">
      <button class="winBtnPrimary" id="btnReplay">RIGIOCA</button>
      <button class="winBtnGhost" id="btnSummary">RIEPILOGO</button>
      <button class="winBtnGhost" id="btnHome">HOME</button>
    </div>
  

  </div>

  <div class="confetti" aria-hidden="true"></div>
</div>
<!-- RIEPILOGO PARTITA -->
  <div class="sumModal" id="sumModal" aria-hidden="true">
    <div class="sumCard" role="dialog" aria-modal="true" aria-label="Riepilogo partita">
      <div class="sumTitle">ðŸ“Š Riepilogo partita</div>
      <div class="sumBody" id="sumBody"></div>
      <div class="sumActions">
        <button class="winBtnPrimary" id="btnSumClose" type="button">CHIUDI</button>
      </div>
    </div>
  </div>
        <div class="announce" id="announce"></div>
      </div>
    </section>

    <!-- DESTRA -->
    <section class="panel right" id="panelR" aria-label="Squadra destra">
      <div class="teamHead red">
        <div class="teamName" id="teamRName">Squadra Rossa</div>
        <div class="timer" id="timerR">â€”</div>
      </div>

      <div class="energyBox">
        <div class="energyTop">
          <div class="energyLabel">Energia</div>
          <div class="energyPct" id="energyRPct">50%</div>
        </div>
        <div class="energyBar red">
          <div class="energyFill" id="energyRFill" style="width:50%"></div>
        </div>
      </div>

      <div class="opBox">
        <div class="opLabel">Operazione</div>
        <div class="opText" id="opR">â€”</div>
      </div>

      <div class="answerRow">
        <input id="inR" class="answer" inputmode="numeric" readonly />
        <button class="miniBtn" id="okR">OK</button>
      </div>

      <div class="keypad" id="padR" aria-label="Tastiera destra"></div>
      <div class="status" id="statusR"></div>
    </section>
  </main>
</div>



<script>
(function(){
  const MOBILE_MAX = 900;

  function redirectIfNeeded(){
    const isMobile = window.innerWidth <= MOBILE_MAX;
    const isMobilePage = location.pathname.endsWith("tug_of_math_mobile.html");

    if(isMobile && !isMobilePage){
      location.replace("tug_of_math_mobile.html" + location.search + location.hash);
    }
  }

  // subito
  redirectIfNeeded();
  // e quando cambi device / ruoti / ridimensioni
  window.addEventListener("resize", redirectIfNeeded);
})();
</script>

<script>
   // window.__GAME_TITLE__ = "Super Sfida Matematica";
  </script>
  <script src="shared/game_menu.js"></script>
  <script src="js/tug_of_math_patched.js"></script>

  <script src="js/nav.js"></script>
<script src="js/menu.js"></script>
</body>
</html>